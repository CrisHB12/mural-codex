"use strict";(globalThis.webpackChunkdev_guides=globalThis.webpackChunkdev_guides||[]).push([[7028],{1736(e,o,s){s.r(o),s.d(o,{assets:()=>c,contentTitle:()=>i,default:()=>m,frontMatter:()=>r,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"docker/docker-compose","title":"Docker Compose","description":"Orquestaci\xf3n de m\xfaltiples contenedores para desarrollo local.","source":"@site/docs/docker/docker-compose.md","sourceDirName":"docker","slug":"/docker/docker-compose","permalink":"/dev-guides/docs/docker/docker-compose","draft":false,"unlisted":false,"editUrl":"https://github.com/CrisHB12/dev-guides/tree/main/docs/docker/docker-compose.md","tags":[{"inline":true,"label":"compose","permalink":"/dev-guides/docs/tags/compose"},{"inline":true,"label":"orquestaci\xf3n","permalink":"/dev-guides/docs/tags/orquestacion"},{"inline":true,"label":"base-de-datos","permalink":"/dev-guides/docs/tags/base-de-datos"}],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Docker Compose","description":"Orquestaci\xf3n de m\xfaltiples contenedores para desarrollo local.","tags":["compose","orquestaci\xf3n","base-de-datos"]},"sidebar":"tutorialSidebar","previous":{"title":"Dockerfile y Temas","permalink":"/dev-guides/docs/docker/dockerfile"},"next":{"title":"Bun","permalink":"/dev-guides/docs/category/bun"}}');var d=s(4848),t=s(8453);const r={sidebar_position:4,title:"Docker Compose",description:"Orquestaci\xf3n de m\xfaltiples contenedores para desarrollo local.",tags:["compose","orquestaci\xf3n","base-de-datos"]},i="Docker Compose",c={},l=[{value:"Archivo <code>compose.yaml</code> (o <code>docker-compose.yml</code>)",id:"archivo-composeyaml-o-docker-composeyml",level:2},{value:"Ejemplo Completo: Stack Web",id:"ejemplo-completo-stack-web",level:3},{value:"Comandos de Compose",id:"comandos-de-compose",level:2}];function a(e){const o={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.header,{children:(0,d.jsx)(o.h1,{id:"docker-compose",children:"Docker Compose"})}),"\n",(0,d.jsxs)(o.p,{children:["Mientras que ",(0,d.jsx)(o.code,{children:"docker run"})," es genial para un solo contenedor, la mayor\xeda de las aplicaciones modernas tienen varias partes: un backend, un frontend y una base de datos.\n",(0,d.jsx)(o.strong,{children:"Docker Compose"})," te permite definir y ejecutar aplicaciones multi-contenedor."]}),"\n",(0,d.jsxs)(o.h2,{id:"archivo-composeyaml-o-docker-composeyml",children:["Archivo ",(0,d.jsx)(o.code,{children:"compose.yaml"})," (o ",(0,d.jsx)(o.code,{children:"docker-compose.yml"}),")"]}),"\n",(0,d.jsxs)(o.p,{children:["Todo se configura en un archivo YAML. Aqu\xed defines los ",(0,d.jsx)(o.strong,{children:"servicios"}),", ",(0,d.jsx)(o.strong,{children:"redes"})," y ",(0,d.jsx)(o.strong,{children:"vol\xfamenes"}),"."]}),"\n",(0,d.jsx)(o.h3,{id:"ejemplo-completo-stack-web",children:"Ejemplo Completo: Stack Web"}),"\n",(0,d.jsx)(o.p,{children:"Este ejemplo levanta:"}),"\n",(0,d.jsxs)(o.ol,{children:["\n",(0,d.jsx)(o.li,{children:"Un servidor web (Nginx)."}),"\n",(0,d.jsx)(o.li,{children:"Una base de datos (PostgreSQL)."}),"\n",(0,d.jsx)(o.li,{children:"Una interfaz gr\xe1fica para la BD (PgAdmin)."}),"\n"]}),"\n",(0,d.jsx)(o.pre,{children:(0,d.jsx)(o.code,{className:"language-yaml",metastring:'title="compose.yaml"',children:'version: \'3.8\'  # Opcional en versiones recientes\n\nservices:\n  # Servicio 1: Nuestra App Web (simulada con Nginx)\n  web:\n    image: nginx:alpine\n    ports:\n      - "8080:80"\n    volumes:\n      - ./sitio-web:/usr/share/nginx/html\n    networks:\n      - mi-red\n\n  # Servicio 2: La Base de Datos\n  db:\n    image: postgres:15-alpine\n    environment:\n      POSTGRES_USER: usuario\n      POSTGRES_PASSWORD: passwordsecreto\n      POSTGRES_DB: midb\n    volumes:\n      - db-data:/var/lib/postgresql/data\n    networks:\n      - mi-red\n\n  # Servicio 3: Admin de Base de Datos\n  pgadmin:\n    image: dpage/pgadmin4\n    environment:\n      PGADMIN_DEFAULT_EMAIL: admin@admin.com\n      PGADMIN_DEFAULT_PASSWORD: admin\n    ports:\n      - "5050:80"\n    depends_on:\n      - db\n    networks:\n      - mi-red\n\n# Vol\xfamenes persistentes\nvolumes:\n  db-data:\n\n# Redes para comunicaci\xf3n interna\nnetworks:\n  mi-red:\n'})}),"\n",(0,d.jsx)(o.h2,{id:"comandos-de-compose",children:"Comandos de Compose"}),"\n",(0,d.jsxs)(o.table,{children:[(0,d.jsx)(o.thead,{children:(0,d.jsxs)(o.tr,{children:[(0,d.jsx)(o.th,{style:{textAlign:"left"},children:"Comando"}),(0,d.jsx)(o.th,{style:{textAlign:"left"},children:"Descripci\xf3n"})]})}),(0,d.jsxs)(o.tbody,{children:[(0,d.jsxs)(o.tr,{children:[(0,d.jsx)(o.td,{style:{textAlign:"left"},children:(0,d.jsx)(o.code,{children:"docker compose up"})}),(0,d.jsxs)(o.td,{style:{textAlign:"left"},children:["Crea e inicia todos los servicios. A\xf1ade ",(0,d.jsx)(o.code,{children:"-d"})," para modo detached."]})]}),(0,d.jsxs)(o.tr,{children:[(0,d.jsx)(o.td,{style:{textAlign:"left"},children:(0,d.jsx)(o.code,{children:"docker compose down"})}),(0,d.jsxs)(o.td,{style:{textAlign:"left"},children:["Detiene y ",(0,d.jsx)(o.strong,{children:"elimina"})," contenedores y redes creados por ",(0,d.jsx)(o.code,{children:"up"}),"."]})]}),(0,d.jsxs)(o.tr,{children:[(0,d.jsx)(o.td,{style:{textAlign:"left"},children:(0,d.jsx)(o.code,{children:"docker compose logs -f"})}),(0,d.jsx)(o.td,{style:{textAlign:"left"},children:"Muestra los logs de todos los servicios en tiempo real."})]}),(0,d.jsxs)(o.tr,{children:[(0,d.jsx)(o.td,{style:{textAlign:"left"},children:(0,d.jsx)(o.code,{children:"docker compose ps"})}),(0,d.jsx)(o.td,{style:{textAlign:"left"},children:"Lista el estado de los servicios del stack."})]}),(0,d.jsxs)(o.tr,{children:[(0,d.jsx)(o.td,{style:{textAlign:"left"},children:(0,d.jsx)(o.code,{children:"docker compose exec <servicio> <cmd>"})}),(0,d.jsxs)(o.td,{style:{textAlign:"left"},children:["Ejecuta un comando dentro de uno de los servicios (ej: ",(0,d.jsx)(o.code,{children:"docker compose exec db bash"}),")."]})]})]})]}),"\n",(0,d.jsx)(o.admonition,{title:"Persistencia de Datos",type:"tip",children:(0,d.jsxs)(o.p,{children:["Nota el uso de ",(0,d.jsx)(o.code,{children:"volumes:"})," en el servicio ",(0,d.jsx)(o.code,{children:"db"}),". Si destruyes el contenedor con ",(0,d.jsx)(o.code,{children:"down"}),", los datos ",(0,d.jsx)(o.strong,{children:"permanecer\xe1n"})," en el volumen ",(0,d.jsx)(o.code,{children:"db-data"}),". Sin esto, \xa1perder\xedas tu base de datos cada vez que reinicies!"]})})]})}function m(e={}){const{wrapper:o}={...(0,t.R)(),...e.components};return o?(0,d.jsx)(o,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}},8453(e,o,s){s.d(o,{R:()=>r,x:()=>i});var n=s(6540);const d={},t=n.createContext(d);function r(e){const o=n.useContext(t);return n.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function i(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:r(e.components),n.createElement(t.Provider,{value:o},e.children)}}}]);