"use strict";(globalThis.webpackChunkdev_guides=globalThis.webpackChunkdev_guides||[]).push([[5005],{1470(e,n,r){r.d(n,{A:()=>D});var a=r(6540),o=r(4164),t=r(7559),s=r(3104),i=r(6347),l=r(205),c=r(7485),u=r(1682),d=r(679);function p(e){return a.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function m(e){const{values:n,children:r}=e;return(0,a.useMemo)(()=>{const e=n??function(e){return p(e).map(({props:{value:e,label:n,attributes:r,default:a}})=>({value:e,label:n,attributes:r,default:a}))}(r);return function(e){const n=(0,u.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,r])}function h({value:e,tabValues:n}){return n.some(n=>n.value===e)}function f({queryString:e=!1,groupId:n}){const r=(0,i.W6)(),o=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,c.aZ)(o),(0,a.useCallback)(e=>{if(!o)return;const n=new URLSearchParams(r.location.search);n.set(o,e),r.replace({...r.location,search:n.toString()})},[o,r])]}function g(e){const{defaultValue:n,queryString:r=!1,groupId:o}=e,t=m(e),[s,i]=(0,a.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!h({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const r=n.find(e=>e.default)??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:t})),[c,u]=f({queryString:r,groupId:o}),[p,g]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[r,o]=(0,d.Dv)(n);return[r,(0,a.useCallback)(e=>{n&&o.set(e)},[n,o])]}({groupId:o}),b=(()=>{const e=c??p;return h({value:e,tabValues:t})?e:null})();(0,l.A)(()=>{b&&i(b)},[b]);return{selectedValue:s,selectValue:(0,a.useCallback)(e=>{if(!h({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);i(e),u(e),g(e)},[u,g,t]),tabValues:t}}var b=r(2303);const v="tabList__CuJ",j="tabItem_LNqP";var k=r(4848);function x({className:e,block:n,selectedValue:r,selectValue:a,tabValues:t}){const i=[],{blockElementScrollPositionUntilNextRender:l}=(0,s.a_)(),c=e=>{const n=e.currentTarget,o=i.indexOf(n),s=t[o].value;s!==r&&(l(n),a(s))},u=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const r=i.indexOf(e.currentTarget)+1;n=i[r]??i[0];break}case"ArrowLeft":{const r=i.indexOf(e.currentTarget)-1;n=i[r]??i[i.length-1];break}}n?.focus()};return(0,k.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":n},e),children:t.map(({value:e,label:n,attributes:a})=>(0,k.jsx)("li",{role:"tab",tabIndex:r===e?0:-1,"aria-selected":r===e,ref:e=>{i.push(e)},onKeyDown:u,onClick:c,...a,className:(0,o.A)("tabs__item",j,a?.className,{"tabs__item--active":r===e}),children:n??e},e))})}function y({lazy:e,children:n,selectedValue:r}){const t=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=t.find(e=>e.props.value===r);return e?(0,a.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,k.jsx)("div",{className:"margin-top--md",children:t.map((e,n)=>(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==r}))})}function E(e){const n=g(e);return(0,k.jsxs)("div",{className:(0,o.A)(t.G.tabs.container,"tabs-container",v),children:[(0,k.jsx)(x,{...n,...e}),(0,k.jsx)(y,{...n,...e})]})}function D(e){const n=(0,b.A)();return(0,k.jsx)(E,{...e,children:p(e.children)},String(n))}},6792(e,n,r){r.r(n),r.d(n,{assets:()=>u,contentTitle:()=>c,default:()=>m,frontMatter:()=>l,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"docker/dockerfile","title":"Dockerfile y Temas","description":"C\xf3mo crear tus propias im\xe1genes Docker para diferentes lenguajes.","source":"@site/docs/docker/dockerfile.md","sourceDirName":"docker","slug":"/docker/dockerfile","permalink":"/dev-guides/docs/docker/dockerfile","draft":false,"unlisted":false,"editUrl":"https://github.com/CrisHB12/dev-guides/tree/main/docs/docker/dockerfile.md","tags":[{"inline":true,"label":"dockerfile","permalink":"/dev-guides/docs/tags/dockerfile"},{"inline":true,"label":"node","permalink":"/dev-guides/docs/tags/node"},{"inline":true,"label":"python","permalink":"/dev-guides/docs/tags/python"},{"inline":true,"label":"csharp","permalink":"/dev-guides/docs/tags/csharp"}],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Dockerfile y Temas","description":"C\xf3mo crear tus propias im\xe1genes Docker para diferentes lenguajes.","tags":["dockerfile","node","python","csharp"]},"sidebar":"tutorialSidebar","previous":{"title":"Gu\xeda de Comandos (CLI)","permalink":"/dev-guides/docs/docker/comandos-basicos"},"next":{"title":"Docker Compose","permalink":"/dev-guides/docs/docker/docker-compose"}}');var o=r(4848),t=r(8453),s=r(1470),i=r(9365);const l={sidebar_position:3,title:"Dockerfile y Temas",description:"C\xf3mo crear tus propias im\xe1genes Docker para diferentes lenguajes.",tags:["dockerfile","node","python","csharp"]},c="Creando Im\xe1genes con Dockerfile",u={},d=[{value:"Estructura B\xe1sica",id:"estructura-b\xe1sica",level:2},{value:"Ejemplos por Lenguaje",id:"ejemplos-por-lenguaje",level:2},{value:".dockerignore",id:"dockerignore",level:2}];function p(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"creando-im\xe1genes-con-dockerfile",children:"Creando Im\xe1genes con Dockerfile"})}),"\n",(0,o.jsxs)(n.p,{children:["Un ",(0,o.jsx)(n.code,{children:"Dockerfile"})," es un documento de texto que contiene todas las instrucciones que Docker necesita para construir una imagen. Piensa en \xe9l como una receta de cocina automatizada."]}),"\n",(0,o.jsx)(n.h2,{id:"estructura-b\xe1sica",children:"Estructura B\xe1sica"}),"\n",(0,o.jsx)(n.p,{children:"La mayor\xeda de los Dockerfiles siguen este patr\xf3n:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"FROM"}),": Define la imagen base (el SO o runtime inicial)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"WORKDIR"}),": Establece el directorio de trabajo dentro del contenedor."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"COPY"}),": Copia archivos desde tu m\xe1quina al contenedor."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"RUN"}),": Ejecuta comandos (instalar dependencias, compilar)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"CMD"})," o ",(0,o.jsx)(n.strong,{children:"ENTRYPOINT"}),": El comando que se ejecuta al iniciar el contenedor."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"ejemplos-por-lenguaje",children:"Ejemplos por Lenguaje"}),"\n",(0,o.jsx)(n.p,{children:"Aqu\xed tienes ejemplos listos para producci\xf3n para diferentes tecnolog\xedas:"}),"\n",(0,o.jsxs)(s.A,{children:[(0,o.jsxs)(i.A,{value:"node",label:"Node.js / Bun",default:!0,children:[(0,o.jsxs)(n.p,{children:["Para aplicaciones modernas de JavaScript/TypeScript usando ",(0,o.jsx)(n.strong,{children:"Bun"}),"."]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-dockerfile",metastring:'title="Dockerfile"',children:'# Usamos la imagen oficial de Bun\nFROM oven/bun:1.0 as base\n\nWORKDIR /app\n\n# 1. Copiamos dependencias primero (para aprovechar el cach\xe9 de capas)\nCOPY package.json bun.lockb ./\n\n# 2. Instalamos dependencias\nRUN bun install --frozen-lockfile\n\n# 3. Copiamos el resto del c\xf3digo\nCOPY . .\n\n# 4. Exponemos el puerto (informativo)\nEXPOSE 3000\n\n# 5. Comando de inicio\nCMD ["bun", "run", "start"]\n'})})]}),(0,o.jsxs)(i.A,{value:"python",label:"Python",children:[(0,o.jsx)(n.p,{children:"Ejemplo t\xedpico para una app Flask o FastAPI."}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-dockerfile",metastring:'title="Dockerfile"',children:'# Usamos una versi\xf3n \'slim\' para menor tama\xf1o\nFROM python:3.11-slim\n\nWORKDIR /app\n\n# Evita que Python escriba archivos .pyc y bufferee la salida\nENV PYTHONDONTWRITEBYTECODE=1\nENV PYTHONUNBUFFERED=1\n\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\nCOPY . .\n\nCMD ["python", "app.py"]\n'})})]}),(0,o.jsxs)(i.A,{value:"csharp",label:".NET (C#)",children:[(0,o.jsx)(n.p,{children:'Para .NET usamos "Multi-stage builds" para compilar en una imagen y ejecutar en otra m\xe1s ligera.'}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-dockerfile",metastring:'title="Dockerfile"',children:'# Etapa de Build (SDK)\nFROM mcr.microsoft.com/dotnet/sdk:8.0 AS build\nWORKDIR /src\nCOPY ["MiApp/MiApp.csproj", "MiApp/"]\nRUN dotnet restore "MiApp/MiApp.csproj"\nCOPY . .\nWORKDIR "/src/MiApp"\nRUN dotnet build -c Release -o /app/build\n\n# Etapa de Publicaci\xf3n\nFROM build AS publish\nRUN dotnet publish -c Release -o /app/publish\n\n# Etapa Final (Runtime)\nFROM mcr.microsoft.com/dotnet/aspnet:8.0 AS final\nWORKDIR /app\nCOPY --from=publish /app/publish .\nENTRYPOINT ["dotnet", "MiApp.dll"]\n'})})]})]}),"\n",(0,o.jsx)(n.h2,{id:"dockerignore",children:".dockerignore"}),"\n",(0,o.jsxs)(n.p,{children:["Siempre debes incluir un archivo ",(0,o.jsx)(n.code,{children:".dockerignore"})," junto a tu Dockerfile. Funciona igual que ",(0,o.jsx)(n.code,{children:".gitignore"}),". Esto evita copiar archivos innecesarios al contenedor, reduciendo su tama\xf1o y mejorando la seguridad."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-text",metastring:'title=".dockerignore"',children:"node_modules\ndist\nbuild\n.git\n.env\nREADME.md\nDockerfile\n"})})]})}function m(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}},8453(e,n,r){r.d(n,{R:()=>s,x:()=>i});var a=r(6540);const o={},t=a.createContext(o);function s(e){const n=a.useContext(t);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),a.createElement(t.Provider,{value:n},e.children)}},9365(e,n,r){r.d(n,{A:()=>s});r(6540);var a=r(4164);const o="tabItem_Ymn6";var t=r(4848);function s({children:e,hidden:n,className:r}){return(0,t.jsx)("div",{role:"tabpanel",className:(0,a.A)(o,r),hidden:n,children:e})}}}]);